apply plugin: "java"
apply plugin: "eclipse"
apply plugin: "jacoco"
apply plugin: "maven"

compileJava.options.encoding = 'UTF-8'    

jacoco {
	toolVersion = "0.7.+"
	reportsDir = file("$buildDir/customJacocoReportDir")
}

jacocoTestReport {
	group = "Reporting"
	description = "Generate Jacoco coverage reports after running tests."
	additionalSourceDirs = files(sourceSets.main.allJava.srcDirs)
}

sourceCompatibility = 1.8
version = '1.0.0'
jar {
	manifest {
		attributes 'Implementation-Title': 'de.malime.math.komplexionen',
				   'Implementation-Version': version
	}
}

configure(install.repositories.mavenInstaller) {
	pom.project {
		groupId 'de.malime.math'
		artifactId 'komplexion'
		packaging 'jar'
	}
}

repositories {
	mavenLocal()
	mavenCentral()
}

dependencies {
	testCompile "junit:junit:4.+"
}
